{"version":3,"sources":["webpack:///webpack/bootstrap 3a91224969032ff52fb9","webpack:///./main.js","webpack:///./collision-methods.js"],"names":["canvas","document","querySelector","width","window","innerWidth","height","innerHeight","c","getContext","mouse","x","y","addEventListener","e","event","init","gravity","friction","Particle","dx","dy","radius","velocity","mass","randomColor","r","Math","floor","random","g","b","color","draw","beginPath","arc","PI","strokeStyle","fillStyle","fill","stroke","update","particles","i","length","p2","distance","resolveCollision","x1","y1","x2","y2","xDistance","yDistance","sqrt","pow","j","push","animate","requestAnimationFrame","clearRect","forEach","particle","rotate","angle","rotatedVelocities","cos","sin","otherParticle","xVelocityDiff","yVelocityDiff","xDist","yDist","atan2","m1","m2","u1","u2","v1","v2","vFinal1","vFinal2"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AC7DA;AAAA,MAAMA,SAASC,SAASC,aAAT,CAAuB,QAAvB,CAAf;AACAF,OAAOG,KAAP,GAAeC,OAAOC,UAAtB;AACAL,OAAOM,MAAP,GAAgBF,OAAOG,WAAvB;AACA,MAAMC,IAAIR,OAAOS,UAAP,CAAkB,IAAlB,CAAV;;AAEA;;AAEA,MAAMC,QAAQ;AACZC,KAAGN,aAAa,CADJ;AAEZO,KAAGL,cAAc;AAFL,CAAd;;AAKAH,OAAOS,gBAAP,CAAwB,WAAxB,EAAqC,UAASC,CAAT,EAAY;AAC/CJ,QAAMC,CAAN,GAAUI,MAAMJ,CAAhB;AACAD,QAAME,CAAN,GAAUG,MAAMH,CAAhB;AACD,CAHD;;AAKAR,OAAOS,gBAAP,CAAwB,QAAxB,EAAkC,UAASC,CAAT,EAAY;AAC5Cd,SAAOG,KAAP,GAAeC,OAAOC,UAAtB;AACAL,SAAOM,MAAP,GAAgBF,OAAOG,WAAvB;;AAEAS;AACD,CALD;;AAOAZ,OAAOS,gBAAP,CAAwB,OAAxB,EAAiC,UAASC,CAAT,EAAY;AAC3CE;AACD,CAFD;;AAIA,MAAMC,UAAU,CAAhB;AACA,MAAMC,WAAW,GAAjB;;AAEA,SAASC,QAAT,CAAmBR,CAAnB,EAAsBC,CAAtB,EAAyBQ,EAAzB,EAA6BC,EAA7B,EAAiCC,MAAjC,EAAyC;AACvC,OAAKX,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;AACA,OAAKW,QAAL,GAAgB;AACdZ,OAAGS,EADW;AAEdR,OAAGS;AAFW,GAAhB;AAIA,OAAKC,MAAL,GAAcA,MAAd;AACA,OAAKE,IAAL,GAAY,CAAZ;;AAEA,OAAKC,WAAL,GAAmB,YAAW;AAC5B,UAAMC,IAAIC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,GAA3B,CAAV;AACA,UAAMC,IAAIH,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,GAA3B,CAAV;AACA,UAAME,IAAIJ,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,GAA3B,CAAV;AACA,WAAS,QAAOH,CAAE,IAAGI,CAAE,KAAIC,CAAE,KAAIJ,KAAKE,MAAL,EAAc,GAA/C;AACD,GALD;;AAOA,OAAKG,KAAL,GAAa,KAAKP,WAAL,EAAb;AACA;;AAEA,OAAKQ,IAAL,GAAY,MAAM;AAChBzB,MAAE0B,SAAF;AACA1B,MAAE2B,GAAF,CAAM,KAAKxB,CAAX,EAAc,KAAKC,CAAnB,EAAsB,KAAKU,MAA3B,EAAmC,CAAnC,EAAsCK,KAAKS,EAAL,GAAU,CAAhD,EAAmD,KAAnD;AACA5B,MAAE6B,WAAF,GAAgB,KAAKL,KAArB;AACAxB,MAAE8B,SAAF,GAAc,KAAKN,KAAnB;AACAxB,MAAE+B,IAAF;AACA/B,MAAEgC,MAAF;AACD,GAPD;;AASA,OAAKC,MAAL,GAAeC,SAAD,IAAe;AAC3B,SAAKT,IAAL;;AAEA,SAAK,IAAIU,IAAI,CAAb,EAAgBA,IAAID,UAAUE,MAA9B,EAAsCD,GAAtC,EAA2C;AACzC,YAAME,KAAKH,UAAUC,CAAV,CAAX;AACA,UAAI,SAASE,EAAb,EAAiB;AACjB,UAAIC,SAAS,KAAKnC,CAAd,EAAiB,KAAKC,CAAtB,EAAyBiC,GAAGlC,CAA5B,EAA+BkC,GAAGjC,CAAlC,IAAuC,KAAKU,MAAL,GAAcuB,GAAGvB,MAA5D,EAAoE;AAClEyB,QAAA,oFAAAA,CAAiB,IAAjB,EAAuBF,EAAvB;AACD;AACF;;AAED,QAAI,KAAKlC,CAAL,GAAS,KAAKW,MAAd,IAAwB,CAAxB,IAA6B,KAAKX,CAAL,GAAS,KAAKW,MAAd,IAAwBtB,OAAOG,KAAhE,EAAuE;AACrE,WAAKoB,QAAL,CAAcZ,CAAd,GAAkB,CAAC,KAAKY,QAAL,CAAcZ,CAAjC;AACD;;AAED,QAAI,KAAKC,CAAL,GAAS,KAAKU,MAAd,IAAwBtB,OAAOM,MAAnC,EAA2C;AACzC,WAAKiB,QAAL,CAAcX,CAAd,GAAkB,CAAC,KAAKW,QAAL,CAAcX,CAAf,GAAmBM,QAArC;AACD,KAFD,MAEO;AACL,WAAKK,QAAL,CAAcX,CAAd,IAAmBK,OAAnB;AACD;;AAED;AACA;AACA;AACA;;AAEA,SAAKN,CAAL,IAAU,KAAKY,QAAL,CAAcZ,CAAxB;AACA,SAAKC,CAAL,IAAU,KAAKW,QAAL,CAAcX,CAAxB;AACD,GA5BD;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAED,SAASkC,QAAT,CAAkBE,EAAlB,EAAsBC,EAAtB,EAA0BC,EAA1B,EAA8BC,EAA9B,EAAkC;AAChC,MAAIC,YAAYF,KAAKF,EAArB;AACA,MAAIK,YAAYF,KAAKF,EAArB;;AAEA,SAAOtB,KAAK2B,IAAL,CAAU3B,KAAK4B,GAAL,CAASH,SAAT,EAAoB,CAApB,IAAyBzB,KAAK4B,GAAL,CAASF,SAAT,EAAoB,CAApB,CAAnC,CAAP;AACD;;AAED,IAAIX,SAAJ;AACA,MAAM1B,OAAO,YAAW;AACtB0B,cAAY,EAAZ;;AAEA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,GAApB,EAAyBA,GAAzB,EAA8B;AAC5B;AACA,QAAIjB,IAAI,EAAR;AACA,QAAIf,IAAIgB,KAAKE,MAAL,MAAiB7B,OAAOG,KAAP,GAAe,IAAIuB,CAApC,IAAyCA,CAAjD;AACA,QAAId,IAAIe,KAAKE,MAAL,MAAiB7B,OAAOM,MAAP,GAAgB,IAAIoB,CAArC,IAA0CA,CAAlD;AACA,UAAMN,KAAK,CAACO,KAAKE,MAAL,KAAgB,GAAjB,IAAwB,CAAnC;AACA,UAAMR,KAAK,CAACM,KAAKE,MAAL,KAAgB,GAAjB,IAAwB,CAAnC;;AAEA,QAAIc,MAAM,CAAV,EAAa;AACX,WAAK,IAAIa,IAAI,CAAb,EAAgBA,IAAId,UAAUE,MAA9B,EAAsCY,GAAtC,EAA2C;AACzC,cAAMX,KAAKH,UAAUc,CAAV,CAAX;AACA,YAAIV,SAASnC,CAAT,EAAYC,CAAZ,EAAeiC,GAAGlC,CAAlB,EAAqBkC,GAAGjC,CAAxB,IAA6Bc,IAAImB,GAAGvB,MAAxC,EAAgD;AAC9CX,cAAIgB,KAAKE,MAAL,MAAiB7B,OAAOG,KAAP,GAAe,IAAIuB,CAApC,IAAyCA,CAA7C;AACAd,cAAIe,KAAKE,MAAL,MAAiB7B,OAAOM,MAAP,GAAgB,IAAIoB,CAArC,IAA0CA,CAA9C;;AAEA8B,cAAI,CAAC,CAAL;AACD;AACF;AACF;;AAEDd,cAAUe,IAAV,CAAe,IAAItC,QAAJ,CAAaR,CAAb,EAAgBC,CAAhB,EAAmBQ,EAAnB,EAAuBC,EAAvB,EAA2BK,CAA3B,CAAf;AACD;AACF,CAzBD;;AA6BA,SAASgC,OAAT,GAAmB;AACjBC,wBAAsBD,OAAtB;AACAlD,IAAEoD,SAAF,CAAY,CAAZ,EAAe,CAAf,EAAkB5D,OAAOG,KAAzB,EAAgCH,OAAOM,MAAvC;;AAEAoC,YAAUmB,OAAV,CAAkBC,YAAY;AAC5BA,aAASrB,MAAT,CAAgBC,SAAhB;AACD,GAFD;AAGD;;AAED1B;AACA0C,U;;;;;;;AC5LO,MAAMK,SAAS,CAACxC,QAAD,EAAWyC,KAAX,KAAqB;AACzC,QAAMC,oBAAoB;AACxBtD,OAAGY,SAASZ,CAAT,GAAagB,KAAKuC,GAAL,CAASF,KAAT,CAAb,GAA+BzC,SAASX,CAAT,GAAae,KAAKwC,GAAL,CAASH,KAAT,CADvB;AAExBpD,OAAGW,SAASZ,CAAT,GAAagB,KAAKwC,GAAL,CAASH,KAAT,CAAb,GAA+BzC,SAASX,CAAT,GAAae,KAAKuC,GAAL,CAASF,KAAT;AAFvB,GAA1B;;AAKA,SAAOC,iBAAP;AACD,CAPM;AAAA;AAAA;;AASA,MAAMlB,mBAAmB,CAACe,QAAD,EAAWM,aAAX,KAA6B;AAC3D,QAAMC,gBAAgBP,SAASvC,QAAT,CAAkBZ,CAAlB,GAAsByD,cAAc7C,QAAd,CAAuBZ,CAAnE;AACA,QAAM2D,gBAAgBR,SAASvC,QAAT,CAAkBX,CAAlB,GAAsBwD,cAAc7C,QAAd,CAAuBX,CAAnE;;AAEA,QAAM2D,QAAQH,cAAczD,CAAd,GAAkBmD,SAASnD,CAAzC;AACA,QAAM6D,QAAQJ,cAAcxD,CAAd,GAAkBkD,SAASlD,CAAzC;;AAEA,MAAIyD,gBAAgBE,KAAhB,GAAwBD,gBAAgBE,KAAxC,IAAiD,CAArD,EAAwD;AACtD,UAAMR,QAAQ,CAACrC,KAAK8C,KAAL,CACbL,cAAcxD,CAAd,GAAkBkD,SAASlD,CADd,EAEbwD,cAAczD,CAAd,GAAkBmD,SAASnD,CAFd,CAAf;;AAKA,UAAM+D,KAAKZ,SAAStC,IAApB;AACA,UAAMmD,KAAKP,cAAc5C,IAAzB;;AAEA,UAAMoD,KAAKb,OAAOD,SAASvC,QAAhB,EAA0ByC,KAA1B,CAAX;AACA,UAAMa,KAAKd,OAAOK,cAAc7C,QAArB,EAA+ByC,KAA/B,CAAX;;AAEA,UAAMc,KAAK,EAAEnE,GAAGiE,GAAGjE,CAAH,IAAQ+D,KAAKC,EAAb,KAAoBD,KAAKC,EAAzB,IAA+BE,GAAGlE,CAAH,GAAO,CAAP,GAAWgE,EAAX,IAAiBD,KAAKC,EAAtB,CAApC,EAA+D/D,GAAGgE,GAAGhE,CAArE,EAAX;AACA,UAAMmE,KAAK,EAAEpE,GAAGkE,GAAGlE,CAAH,IAAQ+D,KAAKC,EAAb,KAAoBD,KAAKC,EAAzB,IAA+BC,GAAGjE,CAAH,GAAO,CAAP,GAAWgE,EAAX,IAAiBD,KAAKC,EAAtB,CAApC,EAA+D/D,GAAGiE,GAAGjE,CAArE,EAAX;;AAEA,UAAMoE,UAAUjB,OAAOe,EAAP,EAAW,CAACd,KAAZ,CAAhB;AACA,UAAMiB,UAAUlB,OAAOgB,EAAP,EAAW,CAACf,KAAZ,CAAhB;;AAEAF,aAASvC,QAAT,CAAkBZ,CAAlB,GAAsBqE,QAAQrE,CAA9B;AACAmD,aAASvC,QAAT,CAAkBX,CAAlB,GAAsBoE,QAAQpE,CAA9B;;AAEAwD,kBAAc7C,QAAd,CAAuBZ,CAAvB,GAA2BsE,QAAQtE,CAAnC;AACAyD,kBAAc7C,QAAd,CAAuBX,CAAvB,GAA2BqE,QAAQrE,CAAnC;AACD;AACF,CA/BM,C","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3a91224969032ff52fb9","const canvas = document.querySelector('canvas');\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\nconst c = canvas.getContext('2d');\n\nimport { resolveCollision } from './collision-methods';\n\nconst mouse = {\n  x: innerWidth / 2,\n  y: innerHeight / 2\n};\n\nwindow.addEventListener('mousemove', function(e) {\n  mouse.x = event.x;\n  mouse.y = event.y;\n});\n\nwindow.addEventListener('resize', function(e) {\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n\n  init();\n});\n\nwindow.addEventListener('click', function(e) {\n  init();\n});\n\nconst gravity = 1;\nconst friction = 0.9;\n\nfunction Particle (x, y, dx, dy, radius) {\n  this.x = x;\n  this.y = y;\n  this.velocity = {\n    x: dx,\n    y: dy\n  };\n  this.radius = radius;\n  this.mass = 1;\n\n  this.randomColor = function() {\n    const r = Math.floor(Math.random() * 255);\n    const g = Math.floor(Math.random() * 255);\n    const b = Math.floor(Math.random() * 255);\n    return (`rgba(${r},${g}, ${b}, ${Math.random()})`);\n  };\n\n  this.color = this.randomColor();\n  // this.color = '#' + Math.random().toString(16).substr(-6);\n\n  this.draw = () => {\n    c.beginPath();\n    c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    c.strokeStyle = this.color;\n    c.fillStyle = this.color;\n    c.fill();\n    c.stroke();\n  };\n\n  this.update = (particles) => {\n    this.draw();\n\n    for (let i = 0; i < particles.length; i++) {\n      const p2 = particles[i];\n      if (this === p2) continue;\n      if (distance(this.x, this.y, p2.x, p2.y) < this.radius + p2.radius) {\n        resolveCollision(this, p2);\n      }\n    }\n\n    if (this.x - this.radius <= 0 || this.x + this.radius >= canvas.width) {\n      this.velocity.x = -this.velocity.x;\n    }\n\n    if (this.y + this.radius >= canvas.height) {\n      this.velocity.y = -this.velocity.y * friction;\n    } else {\n      this.velocity.y += gravity;\n    }\n\n    //mouse Collision\n    // if (distance(this.x, this.y, mouse.x, mouse.y) < 50) {\n    //\n    // }\n\n    this.x += this.velocity.x;\n    this.y += this.velocity.y;\n  };\n\n  // random balls:\n  // this.updateRandomBalls = function() {\n  //   if (this.x + this.radius > innerWidth || this.x - this.radius < 0) {\n  //     this.dx = -this.dx;\n  //   }\n  //\n  //   if (this.y + this.radius > innerHeight || this.y - this.radius < 0) {\n  //     this.dy = -this.dy;\n  //   }\n  //\n  //   this.x += this.dx;\n  //   this.y += this.dy;\n  //\n  //   if (mouse.x - this.x < 50 && mouse.x - this.x > -50\n  //     && mouse.y - this.y < 50 && mouse.y - this.y > -50\n  //   ) {\n  //     if (this.radius < maxRadius) {\n  //       this.radius += 1;\n  //     }\n  //   } else if (this.radius > minRadius) {\n  //     this.radius -=1;\n  //   }\n  //\n  //\n  //   this.draw();\n  // };\n\n  // this.updateGravity = function() {\n  //   if (this.y + this.radius + this.dy >= canvas.height) {\n  //     this.dy = -this.dy * friction;\n  //     if (this.dx > 0) {\n  //       this.dx -= 1;\n  //     } else if (this.dx < 0) {\n  //       this.dx += 1;\n  //     }\n  //   } else {\n  //     this.dy += gravity;\n  //   }\n  //\n  //   if (this.x + this.radius + this.dx > canvas.width\n  //     || this.x - this.radius + this.dx < 0\n  //   ) {\n  //     this.dx = -this.dx;\n  //   }\n  //   this.x += this.dx;\n  //   this.y += this.dy;\n  //\n  //   this.draw();\n  // };\n}\n\nfunction distance(x1, y1, x2, y2) {\n  let xDistance = x2 - x1;\n  let yDistance = y2 - y1;\n\n  return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));\n}\n\nlet particles;\nconst init = function() {\n  particles = [];\n\n  for (let i = 0; i < 100; i++) {\n    // const r = Math.random() * 5 + 15;\n    let r = 15;\n    let x = Math.random() * (canvas.width - 2 * r) + r;\n    let y = Math.random() * (canvas.height - 2 * r) + r;\n    const dx = (Math.random() - 0.5) * 5;\n    const dy = (Math.random() - 0.5) * 5;\n\n    if (i !== 0) {\n      for (let j = 0; j < particles.length; j++) {\n        const p2 = particles[j];\n        if (distance(x, y, p2.x, p2.y) < r + p2.radius) {\n          x = Math.random() * (canvas.width - 2 * r) + r;\n          y = Math.random() * (canvas.height - 2 * r) + r;\n\n          j = -1;\n        }\n      }\n    }\n\n    particles.push(new Particle(x, y, dx, dy, r));\n  }\n};\n\n\n\nfunction animate() {\n  requestAnimationFrame(animate);\n  c.clearRect(0, 0, canvas.width, canvas.height);\n\n  particles.forEach(particle => {\n    particle.update(particles);\n  });\n}\n\ninit();\nanimate();\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","export const rotate = (velocity, angle) => {\n  const rotatedVelocities = {\n    x: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n    y: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle)\n  };\n\n  return rotatedVelocities;\n};\n\nexport const resolveCollision = (particle, otherParticle) => {\n  const xVelocityDiff = particle.velocity.x - otherParticle.velocity.x;\n  const yVelocityDiff = particle.velocity.y - otherParticle.velocity.y;\n\n  const xDist = otherParticle.x - particle.x;\n  const yDist = otherParticle.y - particle.y;\n\n  if (xVelocityDiff * xDist + yVelocityDiff * yDist >= 0) {\n    const angle = -Math.atan2(\n      otherParticle.y - particle.y,\n      otherParticle.x - particle.x\n    );\n\n    const m1 = particle.mass;\n    const m2 = otherParticle.mass;\n\n    const u1 = rotate(particle.velocity, angle);\n    const u2 = rotate(otherParticle.velocity, angle);\n\n    const v1 = { x: u1.x * (m1 - m2) / (m1 + m2) + u2.x * 2 * m2 / (m1 + m2), y: u1.y };\n    const v2 = { x: u2.x * (m1 - m2) / (m1 + m2) + u1.x * 2 * m2 / (m1 + m2), y: u2.y };\n\n    const vFinal1 = rotate(v1, -angle);\n    const vFinal2 = rotate(v2, -angle);\n\n    particle.velocity.x = vFinal1.x;\n    particle.velocity.y = vFinal1.y;\n\n    otherParticle.velocity.x = vFinal2.x;\n    otherParticle.velocity.y = vFinal2.y;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./collision-methods.js"],"sourceRoot":""}